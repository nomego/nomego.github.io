<link rel="import" href="https://www.polymer-project.org/0.5/components/polymer/polymer.html" />
<link rel="import" href="https://www.polymer-project.org/0.5/components/core-icon/core-icon.html" />
<link rel="import" href="https://www.polymer-project.org/0.5/components/core-icons/core-icons.html" />
<link rel="import" href="https://www.polymer-project.org/0.5/components/core-field/core-field.html" />
<link rel="import" href="https://www.polymer-project.org/0.5/components/core-input/core-input.html" />
<link rel="import" href="https://www.polymer-project.org/0.5/components/font-roboto/roboto.html" />
<link rel="import" href="https://www.polymer-project.org/0.5/components/paper-input/paper-input-decorator.html" />
<link rel="import" href="scaffold-layout.html" />

<template>
	<scaffold-layout selected="elbil">
		<div class="title">Elbil vs bensin- / dieselbil</div>
		<template id="t" is="auto-binding">
			<h2>Allmänt</h2>
			<h3>Valuta</h3>

			<core-field>
				<label flex>Valuta</label>
				<paper-input-decorator flex three label="Valuta">
					<input value="{{ currency }}" />
				</paper-input-decorator>
			</core-field>

			<core-field>
				<label flex>Enhet</label>
				<paper-input-decorator flex three label="Enhet">
					<input value="{{ moneyUnit }}" />
				</paper-input-decorator>
			</core-field>

			<h2>Elbil</h2>

			<h3>Information om laddning</h3>
			<i>Normal säkring hemma är 10 ampere</i>
			<br/><br/>

			<core-field>
				<label flex>Volt</label>
				<paper-input-decorator flex three label="Volt">
					<input type="number" value="{{ volt }}" />
				</paper-input-decorator>
			</core-field>

			<core-field>
				<label flex>Ampere</label>
				<paper-input-decorator flex three label="Ampere">
					<input type="number" value="{{ ampere }}" />
				</paper-input-decorator>
			</core-field>

			<br/>
			<i>
				<div>Max belastning på säkringen är {{ volt * ampere }} watt (W) eller {{ volt * ampere / 1000 }} kilowatt (kW).</div>
				<div>Max förbrukning under en timme blir alltså {{ volt * ampere }} Wh eller {{ volt * ampere / 1000 }} kWh.</div>
			</i>

			<h3>Laddningstid</h3>

			<core-field>
				<label flex>Timmar</label>
				<paper-input-decorator flex three label="Timmar laddningstid">
					<input type="number" value="{{ chargingTime }}" />
				</paper-input-decorator>
			</core-field>

			<br/>
			<i>
				<div>Tid innan batteriet är fulladdat, förbrukning för en full laddning är max {{ volt * ampere * chargingTime / 1000 }} kWh.</div>
			</i>

			<h3>Elpris</h3>

			<core-field>
				<label flex>Pris per kWh, {{ currency }} {{ moneyUnit }}</label>
				<paper-input-decorator flex three label="kWh pris">
					<input type="number" value="{{ kwhPrice }}" />
				</paper-input-decorator>
			</core-field>

			<br/>
			<i>
				<div>Detta ska inbegripa samtliga kostnader för dig som konsument.</div>
				<div>Mars 2015 låg ett bra avtal på ca 75 öre / kWh allt inkluderat.</div>
				<div>Kostnad för en full laddning är max {{ volt * ampere * chargingTime / 1000 * kwhPrice | toFixed(2) }}{{ moneyUnit }} {{ currency }}.</div>
			</i>

			<h3>Räckvidd</h3>

			<core-field>
				<label flex>Kilometer</label>
				<paper-input-decorator flex three label="Kilometer räckvidd">
					<input type="number" value="{{ evDistance }}" />
				</paper-input-decorator>
			</core-field>

			<br/>
			<i>
				<div>Kostnaden per mil blir {{ volt * ampere * chargingTime / 100 * kwhPrice / evDistance | toFixed(2) }}{{ moneyUnit }} {{ currency }}.</div>
			</i>

			<h2>Bensin- / dieselbil</h2>

			<core-field>
				<label flex>Bensinkostnad {{ currency }} {{ moneyUnit }} / liter</label>
				<paper-input-decorator flex three label="Literkostnad">
					<input type="number" value="{{ literFuelCharge }}" />
				</paper-input-decorator>
			</core-field>
			<core-field>
				<label flex>Förbrukning liter / mil</label>
				<paper-input-decorator flex three label="Bensin-/dieselförbrukning">
					<input type="number" value="{{ fuelBurn }}" />
				</paper-input-decorator>
			</core-field>

			<br/>
			<i>
				<div>Kostnaden per mil blir {{ literFuelCharge * fuelBurn | toFixed(2) }}{{ moneyUnit }} {{ currency }}.</div>
			</i>

			<h2>Resultat</h2>

			<h3>El kostar {{ (volt * ampere * chargingTime * kwhPrice / evDistance) / (literFuelCharge * fuelBurn) | toFixed(2) }}% av vad bensin/diesel kostar!</h3>
			<h3>För samma pris som du kan åka {{ 100 / ((volt * ampere * chargingTime * kwhPrice / evDistance) / (literFuelCharge * fuelBurn)) | toFixed(2) }} gånger längre på el!</h3>
		</template>
	</scaffold-layout>
<script>
/*global document */
var t = document.getElementById('t');
t.toFixed = function (val, fixval) {
	return val.toFixed(fixval);
};
t.currency = 'SEK';
t.moneyUnit = 'kr';
t.ampere = 10;
t.volt = 230;
t.kwhPrice = 0.80;
t.chargingTime = 5;
t.evDistance = 50;
t.literFuelCharge = 13.5;
t.fuelBurn = 0.7;
</script>
</template>